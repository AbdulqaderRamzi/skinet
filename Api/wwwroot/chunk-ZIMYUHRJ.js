import{a as y}from"./chunk-VHVTDD44.js";import{Hc as l,I as u,Ib as h,M as s,Pb as $,k as f,o as d,va as p}from"./chunk-4FMWKDWO.js";var S=(e,r)=>{let n=s(l),o=s($);return n.currentUser()?f(!0):n.getAuthState().pipe(d(t=>t.isAuthenticated?!0:(o.navigate(["/account/login"],{queryParams:{returnUrl:r.url}}),!1)))};var g=class e{transform(r,...n){if(r&&"address"in r&&r.name){let{line1:o,line2:t,city:i,state:a,country:m,postal_code:c}=r?.address;return`${r.name}, ${o}${t?", "+t:""},
        ${i}, ${a}, ${c}, ${m}`}if(r&&"line1"in r){let{line1:o,line2:t,city:i,state:a,country:m,postalCode:c}=r;return`${r.name}, ${o}${t?", "+t:""},
        ${i}, ${a}, ${c}, ${m}`}return"Unknown address"}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=p({name:"address",type:e,pure:!0})};var k=class e{transform(r,...n){if(r&&"card"in r){let{brand:o,last4:t,exp_month:i,exp_year:a}=r.card;return`${o.toUpperCase()} **** **** **** ${t}, Exp: ${i}/${a}`}if(r&&"last4"in r){let{brand:o,last4:t,expMonth:i,expYear:a}=r;return`${o.toUpperCase()} **** **** **** ${t}, Exp: ${i}/${a}`}return"Unknown payment method"}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=p({name:"payment",type:e,pure:!0})};var P=class e{baseUrl=y.apiUrl;http=s(h);orderComplete=!1;createOrder(r){return this.http.post(this.baseUrl+"orders",r)}getOrdersForUser(){return this.http.get(this.baseUrl+"orders")}getOrderDetailed(r){return this.http.get(this.baseUrl+`orders/${r}`)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=u({token:e,factory:e.\u0275fac,providedIn:"root"})};export{g as a,k as b,P as c,S as d};
